// Generated by the C# M2TypesGenerator: modify at your own risk!
// ReSharper disable InconsistentNaming
// ReSharper disable SuggestVarOrType_SimpleTypes
// ReSharper disable SuggestVarOrType_Elsewhere
#pragma warning disable 1591
#nullable enable
namespace LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.A;
using global::LionWeb.Core;
using global::LionWeb.Core.M2;
using global::LionWeb.Core.M3;
using global::LionWeb.Core.Notification;
using global::LionWeb.Core.Utilities;
using global::LionWeb.Core.VersionSpecific.V2023_1;
using global::System;
using global::System.Collections.Generic;
using global::System.Diagnostics.CodeAnalysis;

[LionCoreLanguage(Key = "key-ALang", Version = "1")]
public partial class ALangLanguage : LanguageBase<IALangFactory>
{
	public static readonly ALangLanguage Instance = new Lazy<ALangLanguage>(() => new("id-ALang")).Value;
	public ALangLanguage(string id) : base(id, LionWebVersions.v2023_1)
	{
		_aConcept = new(() => new ConceptBase<ALangLanguage>("id-AConcept", this) { Key = "key-AConcept", Name = "AConcept", Abstract = false, Partition = false, FeaturesLazy = new(() => [AConcept_AProp, AConcept_BProp, AConcept_BRef]) });
		_aConcept_AProp = new(() => new PropertyBase<ALangLanguage>("id-AProp", AConcept, this) { Key = "key-AProp", Name = "AProp", Optional = false, Type = CustomPrimitiveType });
		_aConcept_BProp = new(() => new PropertyBase<ALangLanguage>("id-BProp", AConcept, this) { Key = "key-BProp", Name = "BProp", Optional = false, Type = LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.B.BLangLanguage.Instance.CustomPrimitiveType });
		_aConcept_BRef = new(() => new ReferenceBase<ALangLanguage>("id-AConcept-BRef", AConcept, this) { Key = "key-BRef", Name = "BRef", Optional = true, Multiple = false, Type = LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.B.BLangLanguage.Instance.BConcept });
		_aEnum = new(() => new EnumerationBase<ALangLanguage>("id-aEnum", this) { Key = "key-AEnum", Name = "AEnum", LiteralsLazy = new(() => [AEnum_left, AEnum_right]) });
		_aEnum_left = new(() => new EnumerationLiteralBase<ALangLanguage>("id-left", AEnum, this) { Key = "key-left", Name = "left" });
		_aEnum_right = new(() => new EnumerationLiteralBase<ALangLanguage>("id-right", AEnum, this) { Key = "key-right", Name = "right" });
		_customPrimitiveType = new(() => new PrimitiveTypeBase<ALangLanguage>("id-AType", this) { Key = "key-AType", Name = "CustomPrimitiveType" });
		_factory = new ALangFactory(this);
	}

	/// <inheritdoc/>
        public override IReadOnlyList<LanguageEntity> Entities => [AConcept, AEnum, CustomPrimitiveType];
	/// <inheritdoc/>
        public override IReadOnlyList<Language> DependsOn => [LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.B.BLangLanguage.Instance];

	private const string _key = "key-ALang";
	/// <inheritdoc/>
        public override string Key => _key;

	private const string _name = "ALang";
	/// <inheritdoc/>
        public override string Name => _name;

	private const string _version = "1";
	/// <inheritdoc/>
        public override string Version => _version;

	private readonly Lazy<Concept> _aConcept;
	public Concept AConcept => _aConcept.Value;

	private readonly Lazy<Property> _aConcept_AProp;
	public Property AConcept_AProp => _aConcept_AProp.Value;

	private readonly Lazy<Property> _aConcept_BProp;
	public Property AConcept_BProp => _aConcept_BProp.Value;

	private readonly Lazy<Reference> _aConcept_BRef;
	public Reference AConcept_BRef => _aConcept_BRef.Value;

	private readonly Lazy<Enumeration> _aEnum;
	public Enumeration AEnum => _aEnum.Value;

	private readonly Lazy<EnumerationLiteral> _aEnum_left;
	public EnumerationLiteral AEnum_left => _aEnum_left.Value;

	private readonly Lazy<EnumerationLiteral> _aEnum_right;
	public EnumerationLiteral AEnum_right => _aEnum_right.Value;

	private readonly Lazy<PrimitiveType> _customPrimitiveType;
	public PrimitiveType CustomPrimitiveType => _customPrimitiveType.Value;
}

public partial interface IALangFactory : INodeFactory
{
	public AConcept NewAConcept(string id);
	public AConcept CreateAConcept();
}

public class ALangFactory : AbstractBaseNodeFactory, IALangFactory
{
	private readonly ALangLanguage _language;
	public ALangFactory(ALangLanguage language) : base(language)
	{
		_language = language;
	}

	/// <inheritdoc/>
        public override INode CreateNode(string id, Classifier classifier)
	{
		if (_language.AConcept.EqualsIdentity(classifier))
			return NewAConcept(id);
		throw new UnsupportedClassifierException(classifier);
	}

	/// <inheritdoc/>
        public override Enum GetEnumerationLiteral(EnumerationLiteral literal)
	{
		if (_language.AEnum.EqualsIdentity(literal.GetEnumeration()))
			return EnumValueFor<AEnum>(literal);
		throw new UnsupportedEnumerationLiteralException(literal);
	}

	/// <inheritdoc/>
        public override IStructuredDataTypeInstance CreateStructuredDataTypeInstance(StructuredDataType structuredDataType, IFieldValues fieldValues)
	{
		throw new UnsupportedStructuredDataTypeException(structuredDataType);
	}

	public virtual AConcept NewAConcept(string id) => new(id);
	public virtual AConcept CreateAConcept() => NewAConcept(GetNewId());
}

/// <summary>This is my
///   Des
/// crip
///    tion</summary>
/// <seealso href="https://example.com/abc?u=i#x"/>
/// <summary>keyed description</summary>
/// <seealso cref = "ALangLanguage"/>
[LionCoreMetaPointer(Language = typeof(ALangLanguage), Key = "key-AConcept")]
public partial class AConcept : ConceptInstanceBase
{
	private global::LionWeb.Build.Languages.CustomType? _aProp = null;
	private bool SetAPropRaw(global::LionWeb.Build.Languages.CustomType? value)
	{
		if (value == _aProp)
			return false;
		_aProp = value;
		return true;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If AProp has not been set</exception>
        [LionCoreMetaPointer(Language = typeof(ALangLanguage), Key = "key-AProp")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public global::LionWeb.Build.Languages.CustomType AProp { get => _aProp ?? throw new UnsetFeatureException(ALangLanguage.Instance.AConcept_AProp); set => SetAProp(value); }

	/// <remarks>Required Property</remarks>
        public bool TryGetAProp([NotNullWhenAttribute(true)] out global::LionWeb.Build.Languages.CustomType? aProp)
	{
		aProp = _aProp;
		return aProp != null;
	}

	/// <remarks>Required Property</remarks>
        public AConcept SetAProp(global::LionWeb.Build.Languages.CustomType value)
	{
		SetRequiredValueTypeProperty<global::LionWeb.Build.Languages.CustomType>(value, ALangLanguage.Instance.AConcept_AProp, _aProp, SetAPropRaw);
		return this;
	}

	private global::LionWeb.Build.Languages.SubNamespace.CustomType? _bProp = null;
	private bool SetBPropRaw(global::LionWeb.Build.Languages.SubNamespace.CustomType? value)
	{
		if (value is null && _bProp is null || value is not null && value.Equals(_bProp))
			return false;
		_bProp = value;
		return true;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If BProp has not been set</exception>
        [LionCoreMetaPointer(Language = typeof(ALangLanguage), Key = "key-BProp")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public global::LionWeb.Build.Languages.SubNamespace.CustomType BProp { get => _bProp ?? throw new UnsetFeatureException(ALangLanguage.Instance.AConcept_BProp); set => SetBProp(value); }

	/// <remarks>Required Property</remarks>
        public bool TryGetBProp([NotNullWhenAttribute(true)] out global::LionWeb.Build.Languages.SubNamespace.CustomType? bProp)
	{
		bProp = _bProp;
		return bProp != null;
	}

	/// <remarks>Required Property</remarks>
        public AConcept SetBProp(global::LionWeb.Build.Languages.SubNamespace.CustomType value)
	{
		SetRequiredValueTypeProperty<global::LionWeb.Build.Languages.SubNamespace.CustomType>(value, ALangLanguage.Instance.AConcept_BProp, _bProp, SetBPropRaw);
		return this;
	}

	private ReferenceTarget? _bRef = null;
	/// <summary>bRef desc</summary>
    	/// <seealso cref = "AEnum.left"/>
    	/// <seealso cref = "AConcept.BRef"/>
    	/// <remarks>Optional Single Reference</remarks>
        [LionCoreMetaPointer(Language = typeof(ALangLanguage), Key = "key-BRef")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Reference, Optional = true, Multiple = false)]
	public LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.B.BConcept? BRef { get => ReferenceTargetNonNullTarget<LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.B.BConcept>(_bRef, ALangLanguage.Instance.AConcept_BRef); set => SetBRef(value); }

	/// <summary>bRef desc</summary>
    	/// <seealso cref = "AEnum.left"/>
    	/// <seealso cref = "AConcept.BRef"/>
    	/// <remarks>Optional Single Reference</remarks>
        public bool TryGetBRef([NotNullWhenAttribute(true)] out LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.B.BConcept? bRef)
	{
		bRef = ReferenceTargetNullableTarget<LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.B.BConcept>(_bRef, ALangLanguage.Instance.AConcept_BRef);
		return bRef != null;
	}

	private AConcept SetBRef(ReferenceTarget? value)
	{
		SetOptionalSingleReference<LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.B.BConcept>(value, ALangLanguage.Instance.AConcept_BRef, _bRef, SetBRefRaw);
		return this;
	}

	private bool SetBRefRaw(ReferenceTarget? value)
	{
		if (value == _bRef)
			return false;
		_bRef = value;
		return true;
	}

	/// <summary>bRef desc</summary>
    	/// <seealso cref = "AEnum.left"/>
    	/// <seealso cref = "AConcept.BRef"/>
    	/// <remarks>Optional Single Reference</remarks>
        public AConcept SetBRef(LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.B.BConcept? value)
	{
		return SetBRef(ReferenceTarget.FromNodeOptional(value));
	}

	public AConcept(string id) : base(id)
	{
	}

	/// <inheritdoc/>
        public override Concept GetConcept() => ALangLanguage.Instance.AConcept;
	/// <inheritdoc/>
        protected override bool GetInternal(Feature? feature, out object? result)
	{
		if (base.GetInternal(feature, out result))
			return true;
		if (ALangLanguage.Instance.AConcept_AProp.EqualsIdentity(feature))
		{
			result = AProp;
			return true;
		}

		if (ALangLanguage.Instance.AConcept_BProp.EqualsIdentity(feature))
		{
			result = BProp;
			return true;
		}

		if (ALangLanguage.Instance.AConcept_BRef.EqualsIdentity(feature))
		{
			result = BRef;
			return true;
		}

		return false;
	}

	protected override bool TryGetPropertyRaw(Property feature, out object? result)
	{
		if (base.TryGetPropertyRaw(feature, out result))
			return true;
		if (ALangLanguage.Instance.AConcept_AProp.EqualsIdentity(feature))
		{
			result = _aProp;
			return true;
		}

		if (ALangLanguage.Instance.AConcept_BProp.EqualsIdentity(feature))
		{
			result = _bProp;
			return true;
		}

		return false;
	}

	protected override bool TryGetReferenceRaw(Reference feature, out IReferenceTarget? result)
	{
		if (base.TryGetReferenceRaw(feature, out result))
			return true;
		if (ALangLanguage.Instance.AConcept_BRef.EqualsIdentity(feature))
		{
			result = _bRef;
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool SetInternal(Feature? feature, object? value)
	{
		if (base.SetInternal(feature, value))
			return true;
		if (ALangLanguage.Instance.AConcept_AProp.EqualsIdentity(feature))
		{
			if (value is global::LionWeb.Build.Languages.CustomType v)
			{
				SetAProp(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (ALangLanguage.Instance.AConcept_BProp.EqualsIdentity(feature))
		{
			if (value is global::LionWeb.Build.Languages.SubNamespace.CustomType v)
			{
				SetBProp(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (ALangLanguage.Instance.AConcept_BRef.EqualsIdentity(feature))
		{
			if (value is null or LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.B.BConcept)
			{
				SetBRef((LionWeb.Core.Test.Languages.Generated.V2023_1.Circular.B.BConcept?)value);
				return true;
			}

			if (value is ReferenceTarget target)
			{
				SetBRef(target);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		return false;
	}

	protected override bool SetPropertyRaw(Property feature, object? value)
	{
		if (base.SetPropertyRaw(feature, value))
			return true;
		if (ALangLanguage.Instance.AConcept_AProp.EqualsIdentity(feature) && value is null or global::LionWeb.Build.Languages.CustomType)
			return SetAPropRaw((global::LionWeb.Build.Languages.CustomType?)value);
		if (ALangLanguage.Instance.AConcept_BProp.EqualsIdentity(feature) && value is null or global::LionWeb.Build.Languages.SubNamespace.CustomType)
			return SetBPropRaw((global::LionWeb.Build.Languages.SubNamespace.CustomType?)value);
		return false;
	}

	protected override bool SetReferenceRaw(Reference feature, ReferenceTarget? value)
	{
		if (base.SetReferenceRaw(feature, value))
			return true;
		if (ALangLanguage.Instance.AConcept_BRef.EqualsIdentity(feature))
			return SetBRefRaw(value);
		return false;
	}

	/// <inheritdoc/>
        public override IEnumerable<Feature> CollectAllSetFeatures()
	{
		List<Feature> result = base.CollectAllSetFeatures().ToList();
		if (TryGetAProp(out _))
			result.Add(ALangLanguage.Instance.AConcept_AProp);
		if (TryGetBProp(out _))
			result.Add(ALangLanguage.Instance.AConcept_BProp);
		if (TryGetBRef(out _))
			result.Add(ALangLanguage.Instance.AConcept_BRef);
		return result;
	}
}

/// <summary>enum description</summary>
/// <seealso cref = "ALangLanguage"/>
/// <seealso cref = "AConcept"/>
[LionCoreMetaPointer(Language = typeof(ALangLanguage), Key = "key-AEnum")]
public enum AEnum
{
	/// <summary>left desc</summary>
    	/// <seealso cref = "AEnum"/>
        [LionCoreMetaPointer(Language = typeof(ALangLanguage), Key = "key-left")]
	left,
	[LionCoreMetaPointer(Language = typeof(ALangLanguage), Key = "key-right")]
	right
}