// Generated by the C# M2TypesGenerator: modify at your own risk!
// ReSharper disable InconsistentNaming
// ReSharper disable SuggestVarOrType_SimpleTypes
// ReSharper disable SuggestVarOrType_Elsewhere
#pragma warning disable 1591
#nullable enable
namespace LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.B;
using global::LionWeb.Core;
using global::LionWeb.Core.M2;
using global::LionWeb.Core.M3;
using global::LionWeb.Core.Notification;
using global::LionWeb.Core.Utilities;
using global::LionWeb.Core.VersionSpecific.V2024_1;
using global::System;
using global::System.Collections.Generic;
using global::System.Diagnostics.CodeAnalysis;

/// <summary>bLang desc</summary>
/// <seealso cref = "LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.ALangLanguage"/>
[LionCoreLanguage(Key = "key-BLang", Version = "2")]
public partial class BLangLanguage : LanguageBase<IBLangFactory>
{
	public static readonly BLangLanguage Instance = new Lazy<BLangLanguage>(() => new("id-BLang")).Value;
	public BLangLanguage(string id) : base(id, LionWebVersions.v2024_1)
	{
		_bConcept = new(() => new ConceptBase<BLangLanguage>("id-BConcept", this) { Key = "key-BConcept", Name = "BConcept", Abstract = false, Partition = false, FeaturesLazy = new(() => [BConcept_AEnumProp, BConcept_AProp, BConcept_ARef, BConcept_BProp]) });
		_bConcept_AEnumProp = new(() => new PropertyBase<BLangLanguage>("id-BConcept-AEnumProp", BConcept, this) { Key = "key-AEnumProp", Name = "AEnumProp", Optional = false, Type = LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.ALangLanguage.Instance.AEnum });
		_bConcept_AProp = new(() => new PropertyBase<BLangLanguage>("id-AProp", BConcept, this) { Key = "key-AProp", Name = "AProp", Optional = false, Type = LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.ALangLanguage.Instance.CustomPrimitiveType });
		_bConcept_ARef = new(() => new ReferenceBase<BLangLanguage>("id-BConcept-ARef", BConcept, this) { Key = "key-ARef", Name = "ARef", Optional = true, Multiple = false, Type = LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.ALangLanguage.Instance.AConcept });
		_bConcept_BProp = new(() => new PropertyBase<BLangLanguage>("id-BProp", BConcept, this) { Key = "key-BProp", Name = "BProp", Optional = false, Type = CustomPrimitiveType });
		_customPrimitiveType = new(() => new PrimitiveTypeBase<BLangLanguage>("id-BType", this) { Key = "key-BType", Name = "CustomPrimitiveType" });
		_factory = new BLangFactory(this);
	}

	/// <inheritdoc/>
        public override IReadOnlyList<LanguageEntity> Entities => [BConcept, CustomPrimitiveType];
	/// <inheritdoc/>
        public override IReadOnlyList<Language> DependsOn => [LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.ALangLanguage.Instance];

	private const string _key = "key-BLang";
	/// <inheritdoc/>
        public override string Key => _key;

	private const string _name = "BLang";
	/// <inheritdoc/>
        public override string Name => _name;

	private const string _version = "2";
	/// <inheritdoc/>
        public override string Version => _version;

	private readonly Lazy<Concept> _bConcept;
	public Concept BConcept => _bConcept.Value;

	private readonly Lazy<Property> _bConcept_AEnumProp;
	public Property BConcept_AEnumProp => _bConcept_AEnumProp.Value;

	private readonly Lazy<Property> _bConcept_AProp;
	public Property BConcept_AProp => _bConcept_AProp.Value;

	private readonly Lazy<Reference> _bConcept_ARef;
	public Reference BConcept_ARef => _bConcept_ARef.Value;

	private readonly Lazy<Property> _bConcept_BProp;
	public Property BConcept_BProp => _bConcept_BProp.Value;

	private readonly Lazy<PrimitiveType> _customPrimitiveType;
	public PrimitiveType CustomPrimitiveType => _customPrimitiveType.Value;
}

public partial interface IBLangFactory : INodeFactory
{
	public BConcept NewBConcept(string id);
	public BConcept CreateBConcept();
}

public class BLangFactory : AbstractBaseNodeFactory, IBLangFactory
{
	private readonly BLangLanguage _language;
	public BLangFactory(BLangLanguage language) : base(language)
	{
		_language = language;
	}

	/// <inheritdoc/>
        public override INode CreateNode(string id, Classifier classifier)
	{
		if (_language.BConcept.EqualsIdentity(classifier))
			return NewBConcept(id);
		throw new UnsupportedClassifierException(classifier);
	}

	/// <inheritdoc/>
        public override Enum GetEnumerationLiteral(EnumerationLiteral literal)
	{
		throw new UnsupportedEnumerationLiteralException(literal);
	}

	/// <inheritdoc/>
        public override IStructuredDataTypeInstance CreateStructuredDataTypeInstance(StructuredDataType structuredDataType, IFieldValues fieldValues)
	{
		throw new UnsupportedStructuredDataTypeException(structuredDataType);
	}

	public virtual BConcept NewBConcept(string id) => new(id);
	public virtual BConcept CreateBConcept() => NewBConcept(GetNewId());
}

/// <summary>Some enum</summary>
[LionCoreMetaPointer(Language = typeof(BLangLanguage), Key = "key-BConcept")]
public partial class BConcept : ConceptInstanceBase
{
	private LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AEnum? _aEnumProp = null;
	private bool SetAEnumPropRaw(LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AEnum? value)
	{
		if (value == _aEnumProp)
			return false;
		_aEnumProp = value;
		return true;
	}

	/// <summary>enum desc</summary>
    	/// <seealso cref = "LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.ALangLanguage"/>
    	/// <seealso cref = "LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AConcept.BRef"/>
    	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If AEnumProp has not been set</exception>
        [LionCoreMetaPointer(Language = typeof(BLangLanguage), Key = "key-AEnumProp")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AEnum AEnumProp { get => _aEnumProp ?? throw new UnsetFeatureException(BLangLanguage.Instance.BConcept_AEnumProp); set => SetAEnumProp(value); }

	/// <summary>enum desc</summary>
    	/// <seealso cref = "LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.ALangLanguage"/>
    	/// <seealso cref = "LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AConcept.BRef"/>
    	/// <remarks>Required Property</remarks>
        public bool TryGetAEnumProp([NotNullWhenAttribute(true)] out LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AEnum? aEnumProp)
	{
		aEnumProp = _aEnumProp;
		return aEnumProp != null;
	}

	/// <summary>enum desc</summary>
    	/// <seealso cref = "LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.ALangLanguage"/>
    	/// <seealso cref = "LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AConcept.BRef"/>
    	/// <remarks>Required Property</remarks>
        public BConcept SetAEnumProp(LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AEnum value)
	{
		SetRequiredValueTypeProperty<LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AEnum>(value, BLangLanguage.Instance.BConcept_AEnumProp, _aEnumProp, SetAEnumPropRaw);
		return this;
	}

	private global::LionWeb.Build.Languages.CustomType? _aProp = null;
	private bool SetAPropRaw(global::LionWeb.Build.Languages.CustomType? value)
	{
		if (value == _aProp)
			return false;
		_aProp = value;
		return true;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If AProp has not been set</exception>
        [LionCoreMetaPointer(Language = typeof(BLangLanguage), Key = "key-AProp")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public global::LionWeb.Build.Languages.CustomType AProp { get => _aProp ?? throw new UnsetFeatureException(BLangLanguage.Instance.BConcept_AProp); set => SetAProp(value); }

	/// <remarks>Required Property</remarks>
        public bool TryGetAProp([NotNullWhenAttribute(true)] out global::LionWeb.Build.Languages.CustomType? aProp)
	{
		aProp = _aProp;
		return aProp != null;
	}

	/// <remarks>Required Property</remarks>
        public BConcept SetAProp(global::LionWeb.Build.Languages.CustomType value)
	{
		SetRequiredValueTypeProperty<global::LionWeb.Build.Languages.CustomType>(value, BLangLanguage.Instance.BConcept_AProp, _aProp, SetAPropRaw);
		return this;
	}

	private ReferenceTarget? _aRef = null;
	/// <remarks>Optional Single Reference</remarks>
        [LionCoreMetaPointer(Language = typeof(BLangLanguage), Key = "key-ARef")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Reference, Optional = true, Multiple = false)]
	public LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AConcept? ARef { get => ReferenceTargetNonNullTarget<LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AConcept>(_aRef, BLangLanguage.Instance.BConcept_ARef); set => SetARef(value); }

	/// <remarks>Optional Single Reference</remarks>
        public bool TryGetARef([NotNullWhenAttribute(true)] out LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AConcept? aRef)
	{
		aRef = ReferenceTargetNullableTarget<LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AConcept>(_aRef, BLangLanguage.Instance.BConcept_ARef);
		return aRef != null;
	}

	private BConcept SetARef(ReferenceTarget? value)
	{
		SetOptionalSingleReference<LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AConcept>(value, BLangLanguage.Instance.BConcept_ARef, _aRef, SetARefRaw);
		return this;
	}

	private bool SetARefRaw(ReferenceTarget? value)
	{
		if (value == _aRef)
			return false;
		_aRef = value;
		return true;
	}

	/// <remarks>Optional Single Reference</remarks>
        public BConcept SetARef(LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AConcept? value)
	{
		return SetARef(ReferenceTarget.FromNodeOptional(value));
	}

	private global::LionWeb.Build.Languages.SubNamespace.CustomType? _bProp = null;
	private bool SetBPropRaw(global::LionWeb.Build.Languages.SubNamespace.CustomType? value)
	{
		if (value is null && _bProp is null || value is not null && value.Equals(_bProp))
			return false;
		_bProp = value;
		return true;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If BProp has not been set</exception>
        [LionCoreMetaPointer(Language = typeof(BLangLanguage), Key = "key-BProp")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public global::LionWeb.Build.Languages.SubNamespace.CustomType BProp { get => _bProp ?? throw new UnsetFeatureException(BLangLanguage.Instance.BConcept_BProp); set => SetBProp(value); }

	/// <remarks>Required Property</remarks>
        public bool TryGetBProp([NotNullWhenAttribute(true)] out global::LionWeb.Build.Languages.SubNamespace.CustomType? bProp)
	{
		bProp = _bProp;
		return bProp != null;
	}

	/// <remarks>Required Property</remarks>
        public BConcept SetBProp(global::LionWeb.Build.Languages.SubNamespace.CustomType value)
	{
		SetRequiredValueTypeProperty<global::LionWeb.Build.Languages.SubNamespace.CustomType>(value, BLangLanguage.Instance.BConcept_BProp, _bProp, SetBPropRaw);
		return this;
	}

	public BConcept(string id) : base(id)
	{
	}

	/// <inheritdoc/>
        public override Concept GetConcept() => BLangLanguage.Instance.BConcept;
	/// <inheritdoc/>
        protected override bool GetInternal(Feature? feature, out object? result)
	{
		if (base.GetInternal(feature, out result))
			return true;
		if (BLangLanguage.Instance.BConcept_AEnumProp.EqualsIdentity(feature))
		{
			result = AEnumProp;
			return true;
		}

		if (BLangLanguage.Instance.BConcept_AProp.EqualsIdentity(feature))
		{
			result = AProp;
			return true;
		}

		if (BLangLanguage.Instance.BConcept_ARef.EqualsIdentity(feature))
		{
			result = ARef;
			return true;
		}

		if (BLangLanguage.Instance.BConcept_BProp.EqualsIdentity(feature))
		{
			result = BProp;
			return true;
		}

		return false;
	}

	protected override bool TryGetPropertyRaw(Property feature, out object? result)
	{
		if (base.TryGetPropertyRaw(feature, out result))
			return true;
		if (BLangLanguage.Instance.BConcept_AEnumProp.EqualsIdentity(feature))
		{
			result = _aEnumProp;
			return true;
		}

		if (BLangLanguage.Instance.BConcept_AProp.EqualsIdentity(feature))
		{
			result = _aProp;
			return true;
		}

		if (BLangLanguage.Instance.BConcept_BProp.EqualsIdentity(feature))
		{
			result = _bProp;
			return true;
		}

		return false;
	}

	protected override bool TryGetReferenceRaw(Reference feature, out IReferenceTarget? result)
	{
		if (base.TryGetReferenceRaw(feature, out result))
			return true;
		if (BLangLanguage.Instance.BConcept_ARef.EqualsIdentity(feature))
		{
			result = _aRef;
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool SetInternal(Feature? feature, object? value)
	{
		if (base.SetInternal(feature, value))
			return true;
		if (BLangLanguage.Instance.BConcept_AEnumProp.EqualsIdentity(feature))
		{
			if (value is LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AEnum v)
			{
				SetAEnumProp(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (BLangLanguage.Instance.BConcept_AProp.EqualsIdentity(feature))
		{
			if (value is global::LionWeb.Build.Languages.CustomType v)
			{
				SetAProp(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (BLangLanguage.Instance.BConcept_ARef.EqualsIdentity(feature))
		{
			if (value is null or LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AConcept)
			{
				SetARef((LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AConcept?)value);
				return true;
			}

			if (value is ReferenceTarget target)
			{
				SetARef(target);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (BLangLanguage.Instance.BConcept_BProp.EqualsIdentity(feature))
		{
			if (value is global::LionWeb.Build.Languages.SubNamespace.CustomType v)
			{
				SetBProp(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		return false;
	}

	protected override bool SetPropertyRaw(Property feature, object? value)
	{
		if (base.SetPropertyRaw(feature, value))
			return true;
		if (BLangLanguage.Instance.BConcept_AEnumProp.EqualsIdentity(feature) && value is null or LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AEnum)
			return SetAEnumPropRaw((LionWeb.Core.Test.Languages.Generated.V2024_1.Circular.A.AEnum?)value);
		if (BLangLanguage.Instance.BConcept_AProp.EqualsIdentity(feature) && value is null or global::LionWeb.Build.Languages.CustomType)
			return SetAPropRaw((global::LionWeb.Build.Languages.CustomType?)value);
		if (BLangLanguage.Instance.BConcept_BProp.EqualsIdentity(feature) && value is null or global::LionWeb.Build.Languages.SubNamespace.CustomType)
			return SetBPropRaw((global::LionWeb.Build.Languages.SubNamespace.CustomType?)value);
		return false;
	}

	protected override bool SetReferenceRaw(Reference feature, ReferenceTarget? value)
	{
		if (base.SetReferenceRaw(feature, value))
			return true;
		if (BLangLanguage.Instance.BConcept_ARef.EqualsIdentity(feature))
			return SetARefRaw(value);
		return false;
	}

	/// <inheritdoc/>
        public override IEnumerable<Feature> CollectAllSetFeatures()
	{
		List<Feature> result = base.CollectAllSetFeatures().ToList();
		if (TryGetAEnumProp(out _))
			result.Add(BLangLanguage.Instance.BConcept_AEnumProp);
		if (TryGetAProp(out _))
			result.Add(BLangLanguage.Instance.BConcept_AProp);
		if (TryGetARef(out _))
			result.Add(BLangLanguage.Instance.BConcept_ARef);
		if (TryGetBProp(out _))
			result.Add(BLangLanguage.Instance.BConcept_BProp);
		return result;
	}
}