// Generated by the C# M2TypesGenerator: modify at your own risk!
// ReSharper disable InconsistentNaming
// ReSharper disable SuggestVarOrType_SimpleTypes
// ReSharper disable SuggestVarOrType_Elsewhere
#pragma warning disable 1591
#nullable enable
namespace LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang;
using LionWeb.Core;
using LionWeb.Core.M2;
using LionWeb.Core.M3;
using LionWeb.Core.Notification;
using LionWeb.Core.Notification.Partition;
using LionWeb.Core.Notification.Pipe;
using LionWeb.Core.Utilities;
using LionWeb.Core.VersionSpecific.V2024_1;
using System;
using System.Collections.Generic;
using System.Diagnostics.CodeAnalysis;

[LionCoreLanguage(Key = "TestLanguage", Version = "0")]
public partial class NullableReferencesTestLanguageLanguage : LanguageBase<INullableReferencesTestLanguageFactory>
{
	public static readonly NullableReferencesTestLanguageLanguage Instance = new Lazy<NullableReferencesTestLanguageLanguage>(() => new("TestLanguage")).Value;
	public NullableReferencesTestLanguageLanguage(string id) : base(id, LionWebVersions.v2024_1)
	{
		_dataTypeTestConcept = new(() => new ConceptBase<NullableReferencesTestLanguageLanguage>("DataTypeTestConcept", this) { Key = "DataTypeTestConcept", Name = "DataTypeTestConcept", Abstract = false, Partition = false, FeaturesLazy = new(() => [DataTypeTestConcept_booleanValue_0_1, DataTypeTestConcept_booleanValue_1, DataTypeTestConcept_enumValue_0_1, DataTypeTestConcept_enumValue_1, DataTypeTestConcept_integerValue_0_1, DataTypeTestConcept_integerValue_1, DataTypeTestConcept_stringValue_0_1, DataTypeTestConcept_stringValue_1]) });
		_dataTypeTestConcept_booleanValue_0_1 = new(() => new PropertyBase<NullableReferencesTestLanguageLanguage>("DataTypeTestConcept-booleanValue_0_1", DataTypeTestConcept, this) { Key = "DataTypeTestConcept-booleanValue_0_1", Name = "booleanValue_0_1", Optional = true, Type = _builtIns.Boolean });
		_dataTypeTestConcept_booleanValue_1 = new(() => new PropertyBase<NullableReferencesTestLanguageLanguage>("DataTypeTestConcept-booleanValue_1", DataTypeTestConcept, this) { Key = "DataTypeTestConcept-booleanValue_1", Name = "booleanValue_1", Optional = false, Type = _builtIns.Boolean });
		_dataTypeTestConcept_enumValue_0_1 = new(() => new PropertyBase<NullableReferencesTestLanguageLanguage>("DataTypeTestConcept-enumValue_0_1", DataTypeTestConcept, this) { Key = "DataTypeTestConcept-enumValue_0_1", Name = "enumValue_0_1", Optional = true, Type = TestEnumeration });
		_dataTypeTestConcept_enumValue_1 = new(() => new PropertyBase<NullableReferencesTestLanguageLanguage>("DataTypeTestConcept-enumValue_1", DataTypeTestConcept, this) { Key = "DataTypeTestConcept-enumValue_1", Name = "enumValue_1", Optional = false, Type = TestEnumeration });
		_dataTypeTestConcept_integerValue_0_1 = new(() => new PropertyBase<NullableReferencesTestLanguageLanguage>("DataTypeTestConcept-integerValue_0_1", DataTypeTestConcept, this) { Key = "DataTypeTestConcept-integerValue_0_1", Name = "integerValue_0_1", Optional = true, Type = _builtIns.Integer });
		_dataTypeTestConcept_integerValue_1 = new(() => new PropertyBase<NullableReferencesTestLanguageLanguage>("DataTypeTestConcept-integerValue_1", DataTypeTestConcept, this) { Key = "DataTypeTestConcept-integerValue_1", Name = "integerValue_1", Optional = false, Type = _builtIns.Integer });
		_dataTypeTestConcept_stringValue_0_1 = new(() => new PropertyBase<NullableReferencesTestLanguageLanguage>("DataTypeTestConcept-stringValue_0_1", DataTypeTestConcept, this) { Key = "DataTypeTestConcept-stringValue_0_1", Name = "stringValue_0_1", Optional = true, Type = _builtIns.String });
		_dataTypeTestConcept_stringValue_1 = new(() => new PropertyBase<NullableReferencesTestLanguageLanguage>("DataTypeTestConcept-stringValue_1", DataTypeTestConcept, this) { Key = "DataTypeTestConcept-stringValue_1", Name = "stringValue_1", Optional = false, Type = _builtIns.String });
		_linkTestConcept = new(() => new ConceptBase<NullableReferencesTestLanguageLanguage>("LinkTestConcept", this) { Key = "LinkTestConcept", Name = "LinkTestConcept", Abstract = false, Partition = false, ImplementsLazy = new(() => [_builtIns.INamed]), FeaturesLazy = new(() => [LinkTestConcept_containment_0_1, LinkTestConcept_containment_0_n, LinkTestConcept_containment_1, LinkTestConcept_containment_1_n, LinkTestConcept_reference_0_1, LinkTestConcept_reference_0_n, LinkTestConcept_reference_1, LinkTestConcept_reference_1_n]) });
		_linkTestConcept_containment_0_1 = new(() => new ContainmentBase<NullableReferencesTestLanguageLanguage>("LinkTestConcept-containment_0_1", LinkTestConcept, this) { Key = "LinkTestConcept-containment_0_1", Name = "containment_0_1", Optional = true, Multiple = false, Type = LinkTestConcept });
		_linkTestConcept_containment_0_n = new(() => new ContainmentBase<NullableReferencesTestLanguageLanguage>("LinkTestConcept-containment_0_n", LinkTestConcept, this) { Key = "LinkTestConcept-containment_0_n", Name = "containment_0_n", Optional = true, Multiple = true, Type = LinkTestConcept });
		_linkTestConcept_containment_1 = new(() => new ContainmentBase<NullableReferencesTestLanguageLanguage>("LinkTestConcept-containment_1", LinkTestConcept, this) { Key = "LinkTestConcept-containment_1", Name = "containment_1", Optional = false, Multiple = false, Type = LinkTestConcept });
		_linkTestConcept_containment_1_n = new(() => new ContainmentBase<NullableReferencesTestLanguageLanguage>("LinkTestConcept-containment_1_n", LinkTestConcept, this) { Key = "LinkTestConcept-containment_1_n", Name = "containment_1_n", Optional = false, Multiple = true, Type = LinkTestConcept });
		_linkTestConcept_reference_0_1 = new(() => new ReferenceBase<NullableReferencesTestLanguageLanguage>("LinkTestConcept-reference_0_1", LinkTestConcept, this) { Key = "LinkTestConcept-reference_0_1", Name = "reference_0_1", Optional = true, Multiple = false, Type = LinkTestConcept });
		_linkTestConcept_reference_0_n = new(() => new ReferenceBase<NullableReferencesTestLanguageLanguage>("LinkTestConcept-reference_0_n", LinkTestConcept, this) { Key = "LinkTestConcept-reference_0_n", Name = "reference_0_n", Optional = true, Multiple = true, Type = LinkTestConcept });
		_linkTestConcept_reference_1 = new(() => new ReferenceBase<NullableReferencesTestLanguageLanguage>("LinkTestConcept-reference_1", LinkTestConcept, this) { Key = "LinkTestConcept-reference_1", Name = "reference_1", Optional = false, Multiple = false, Type = LinkTestConcept });
		_linkTestConcept_reference_1_n = new(() => new ReferenceBase<NullableReferencesTestLanguageLanguage>("LinkTestConcept-reference_1_n", LinkTestConcept, this) { Key = "LinkTestConcept-reference_1_n", Name = "reference_1_n", Optional = false, Multiple = true, Type = LinkTestConcept });
		_secondTestEnumeration = new(() => new EnumerationBase<NullableReferencesTestLanguageLanguage>("SecondTestEnumeration", this) { Key = "SecondTestEnumeration", Name = "SecondTestEnumeration", LiteralsLazy = new(() => [SecondTestEnumeration_literal1, SecondTestEnumeration_literal2, SecondTestEnumeration_literal3]) });
		_secondTestEnumeration_literal1 = new(() => new EnumerationLiteralBase<NullableReferencesTestLanguageLanguage>("SecondTestEnumeration-literal1", SecondTestEnumeration, this) { Key = "SecondTestEnumeration-literal1", Name = "literal1" });
		_secondTestEnumeration_literal2 = new(() => new EnumerationLiteralBase<NullableReferencesTestLanguageLanguage>("SecondTestEnumeration-literal2", SecondTestEnumeration, this) { Key = "SecondTestEnumeration-literal2", Name = "literal2" });
		_secondTestEnumeration_literal3 = new(() => new EnumerationLiteralBase<NullableReferencesTestLanguageLanguage>("SecondTestEnumeration-literal3", SecondTestEnumeration, this) { Key = "SecondTestEnumeration-literal3", Name = "literal3" });
		_testAnnotation = new(() => new AnnotationBase<NullableReferencesTestLanguageLanguage>("TestAnnotation", this) { Key = "TestAnnotation", Name = "TestAnnotation", AnnotatesLazy = new(() => _builtIns.Node), ImplementsLazy = new(() => [_builtIns.INamed]) });
		_testEnumeration = new(() => new EnumerationBase<NullableReferencesTestLanguageLanguage>("TestEnumeration", this) { Key = "TestEnumeration", Name = "TestEnumeration", LiteralsLazy = new(() => [TestEnumeration_literal1, TestEnumeration_literal2, TestEnumeration_literal3]) });
		_testEnumeration_literal1 = new(() => new EnumerationLiteralBase<NullableReferencesTestLanguageLanguage>("TestEnumeration-literal1", TestEnumeration, this) { Key = "TestEnumeration-literal1", Name = "literal1" });
		_testEnumeration_literal2 = new(() => new EnumerationLiteralBase<NullableReferencesTestLanguageLanguage>("TestEnumeration-literal2", TestEnumeration, this) { Key = "TestEnumeration-literal2", Name = "literal2" });
		_testEnumeration_literal3 = new(() => new EnumerationLiteralBase<NullableReferencesTestLanguageLanguage>("TestEnumeration-literal3", TestEnumeration, this) { Key = "TestEnumeration-literal3", Name = "literal3" });
		_testPartition = new(() => new ConceptBase<NullableReferencesTestLanguageLanguage>("TestPartition", this) { Key = "TestPartition", Name = "TestPartition", Abstract = false, Partition = true, ImplementsLazy = new(() => [_builtIns.INamed]), FeaturesLazy = new(() => [TestPartition_data, TestPartition_links]) });
		_testPartition_data = new(() => new ContainmentBase<NullableReferencesTestLanguageLanguage>("TestPartition-data", TestPartition, this) { Key = "TestPartition-data", Name = "data", Optional = true, Multiple = false, Type = DataTypeTestConcept });
		_testPartition_links = new(() => new ContainmentBase<NullableReferencesTestLanguageLanguage>("TestPartition-links", TestPartition, this) { Key = "TestPartition-links", Name = "links", Optional = true, Multiple = true, Type = LinkTestConcept });
		_factory = new NullableReferencesTestLanguageFactory(this);
	}

	/// <inheritdoc/>
        public override IReadOnlyList<LanguageEntity> Entities => [DataTypeTestConcept, LinkTestConcept, SecondTestEnumeration, TestAnnotation, TestEnumeration, TestPartition];
	/// <inheritdoc/>
        public override IReadOnlyList<Language> DependsOn => [];

	private const string _key = "TestLanguage";
	/// <inheritdoc/>
        public override string Key => _key;

	private const string _name = "NullableReferencesTestLanguage";
	/// <inheritdoc/>
        public override string Name => _name;

	private const string _version = "0";
	/// <inheritdoc/>
        public override string Version => _version;

	private readonly Lazy<Concept> _dataTypeTestConcept;
	public Concept DataTypeTestConcept => _dataTypeTestConcept.Value;

	private readonly Lazy<Property> _dataTypeTestConcept_booleanValue_0_1;
	public Property DataTypeTestConcept_booleanValue_0_1 => _dataTypeTestConcept_booleanValue_0_1.Value;

	private readonly Lazy<Property> _dataTypeTestConcept_booleanValue_1;
	public Property DataTypeTestConcept_booleanValue_1 => _dataTypeTestConcept_booleanValue_1.Value;

	private readonly Lazy<Property> _dataTypeTestConcept_enumValue_0_1;
	public Property DataTypeTestConcept_enumValue_0_1 => _dataTypeTestConcept_enumValue_0_1.Value;

	private readonly Lazy<Property> _dataTypeTestConcept_enumValue_1;
	public Property DataTypeTestConcept_enumValue_1 => _dataTypeTestConcept_enumValue_1.Value;

	private readonly Lazy<Property> _dataTypeTestConcept_integerValue_0_1;
	public Property DataTypeTestConcept_integerValue_0_1 => _dataTypeTestConcept_integerValue_0_1.Value;

	private readonly Lazy<Property> _dataTypeTestConcept_integerValue_1;
	public Property DataTypeTestConcept_integerValue_1 => _dataTypeTestConcept_integerValue_1.Value;

	private readonly Lazy<Property> _dataTypeTestConcept_stringValue_0_1;
	public Property DataTypeTestConcept_stringValue_0_1 => _dataTypeTestConcept_stringValue_0_1.Value;

	private readonly Lazy<Property> _dataTypeTestConcept_stringValue_1;
	public Property DataTypeTestConcept_stringValue_1 => _dataTypeTestConcept_stringValue_1.Value;

	private readonly Lazy<Concept> _linkTestConcept;
	public Concept LinkTestConcept => _linkTestConcept.Value;

	private readonly Lazy<Containment> _linkTestConcept_containment_0_1;
	public Containment LinkTestConcept_containment_0_1 => _linkTestConcept_containment_0_1.Value;

	private readonly Lazy<Containment> _linkTestConcept_containment_0_n;
	public Containment LinkTestConcept_containment_0_n => _linkTestConcept_containment_0_n.Value;

	private readonly Lazy<Containment> _linkTestConcept_containment_1;
	public Containment LinkTestConcept_containment_1 => _linkTestConcept_containment_1.Value;

	private readonly Lazy<Containment> _linkTestConcept_containment_1_n;
	public Containment LinkTestConcept_containment_1_n => _linkTestConcept_containment_1_n.Value;

	private readonly Lazy<Reference> _linkTestConcept_reference_0_1;
	public Reference LinkTestConcept_reference_0_1 => _linkTestConcept_reference_0_1.Value;

	private readonly Lazy<Reference> _linkTestConcept_reference_0_n;
	public Reference LinkTestConcept_reference_0_n => _linkTestConcept_reference_0_n.Value;

	private readonly Lazy<Reference> _linkTestConcept_reference_1;
	public Reference LinkTestConcept_reference_1 => _linkTestConcept_reference_1.Value;

	private readonly Lazy<Reference> _linkTestConcept_reference_1_n;
	public Reference LinkTestConcept_reference_1_n => _linkTestConcept_reference_1_n.Value;

	private readonly Lazy<Enumeration> _secondTestEnumeration;
	public Enumeration SecondTestEnumeration => _secondTestEnumeration.Value;

	private readonly Lazy<EnumerationLiteral> _secondTestEnumeration_literal1;
	public EnumerationLiteral SecondTestEnumeration_literal1 => _secondTestEnumeration_literal1.Value;

	private readonly Lazy<EnumerationLiteral> _secondTestEnumeration_literal2;
	public EnumerationLiteral SecondTestEnumeration_literal2 => _secondTestEnumeration_literal2.Value;

	private readonly Lazy<EnumerationLiteral> _secondTestEnumeration_literal3;
	public EnumerationLiteral SecondTestEnumeration_literal3 => _secondTestEnumeration_literal3.Value;

	private readonly Lazy<Annotation> _testAnnotation;
	public Annotation TestAnnotation => _testAnnotation.Value;

	private readonly Lazy<Enumeration> _testEnumeration;
	public Enumeration TestEnumeration => _testEnumeration.Value;

	private readonly Lazy<EnumerationLiteral> _testEnumeration_literal1;
	public EnumerationLiteral TestEnumeration_literal1 => _testEnumeration_literal1.Value;

	private readonly Lazy<EnumerationLiteral> _testEnumeration_literal2;
	public EnumerationLiteral TestEnumeration_literal2 => _testEnumeration_literal2.Value;

	private readonly Lazy<EnumerationLiteral> _testEnumeration_literal3;
	public EnumerationLiteral TestEnumeration_literal3 => _testEnumeration_literal3.Value;

	private readonly Lazy<Concept> _testPartition;
	public Concept TestPartition => _testPartition.Value;

	private readonly Lazy<Containment> _testPartition_data;
	public Containment TestPartition_data => _testPartition_data.Value;

	private readonly Lazy<Containment> _testPartition_links;
	public Containment TestPartition_links => _testPartition_links.Value;
}

public partial interface INullableReferencesTestLanguageFactory : INodeFactory
{
	public DataTypeTestConcept NewDataTypeTestConcept(string id);
	public DataTypeTestConcept CreateDataTypeTestConcept();
	public LinkTestConcept NewLinkTestConcept(string id);
	public LinkTestConcept CreateLinkTestConcept();
	public TestAnnotation NewTestAnnotation(string id);
	public TestAnnotation CreateTestAnnotation();
	public TestPartition NewTestPartition(string id);
	public TestPartition CreateTestPartition();
}

public class NullableReferencesTestLanguageFactory : AbstractBaseNodeFactory, INullableReferencesTestLanguageFactory
{
	private readonly NullableReferencesTestLanguageLanguage _language;
	public NullableReferencesTestLanguageFactory(NullableReferencesTestLanguageLanguage language) : base(language)
	{
		_language = language;
	}

	/// <inheritdoc/>
        public override INode CreateNode(string id, Classifier classifier)
	{
		if (_language.DataTypeTestConcept.EqualsIdentity(classifier))
			return NewDataTypeTestConcept(id);
		if (_language.LinkTestConcept.EqualsIdentity(classifier))
			return NewLinkTestConcept(id);
		if (_language.TestAnnotation.EqualsIdentity(classifier))
			return NewTestAnnotation(id);
		if (_language.TestPartition.EqualsIdentity(classifier))
			return NewTestPartition(id);
		throw new UnsupportedClassifierException(classifier);
	}

	/// <inheritdoc/>
        public override Enum GetEnumerationLiteral(EnumerationLiteral literal)
	{
		if (_language.SecondTestEnumeration.EqualsIdentity(literal.GetEnumeration()))
			return EnumValueFor<SecondTestEnumeration>(literal);
		if (_language.TestEnumeration.EqualsIdentity(literal.GetEnumeration()))
			return EnumValueFor<TestEnumeration>(literal);
		throw new UnsupportedEnumerationLiteralException(literal);
	}

	/// <inheritdoc/>
        public override IStructuredDataTypeInstance CreateStructuredDataTypeInstance(StructuredDataType structuredDataType, IFieldValues fieldValues)
	{
		throw new UnsupportedStructuredDataTypeException(structuredDataType);
	}

	public virtual DataTypeTestConcept NewDataTypeTestConcept(string id) => new(id);
	public virtual DataTypeTestConcept CreateDataTypeTestConcept() => NewDataTypeTestConcept(GetNewId());
	public virtual LinkTestConcept NewLinkTestConcept(string id) => new(id);
	public virtual LinkTestConcept CreateLinkTestConcept() => NewLinkTestConcept(GetNewId());
	public virtual TestAnnotation NewTestAnnotation(string id) => new(id);
	public virtual TestAnnotation CreateTestAnnotation() => NewTestAnnotation(GetNewId());
	public virtual TestPartition NewTestPartition(string id) => new(id);
	public virtual TestPartition CreateTestPartition() => NewTestPartition(GetNewId());
}

[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "DataTypeTestConcept")]
public partial class DataTypeTestConcept : ConceptInstanceBase
{
	private bool? _booleanValue_0_1 = null;
	/// <remarks>Optional Property</remarks>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "DataTypeTestConcept-booleanValue_0_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = true, Multiple = false)]
	public bool? BooleanValue_0_1 { get => _booleanValue_0_1; set => SetBooleanValue_0_1(value); }

	/// <remarks>Optional Property</remarks>
        public bool TryGetBooleanValue_0_1([NotNullWhenAttribute(true)] out bool? booleanValue_0_1)
	{
		booleanValue_0_1 = _booleanValue_0_1;
		return booleanValue_0_1 != null;
	}

	private bool SetBooleanValue_0_1Raw(bool? value)
	{
		if (value == _booleanValue_0_1)
			return false;
		_booleanValue_0_1 = value;
		return true;
	}

	/// <remarks>Optional Property</remarks>
        public DataTypeTestConcept SetBooleanValue_0_1(bool? value)
	{
		SetOptionalValueTypeProperty<bool>(value, NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_0_1, _booleanValue_0_1, SetBooleanValue_0_1Raw);
		return this;
	}

	private bool? _booleanValue_1 = null;
	private bool SetBooleanValue_1Raw(bool? value)
	{
		if (value == _booleanValue_1)
			return false;
		_booleanValue_1 = value;
		return true;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If BooleanValue_1 has not been set</exception>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "DataTypeTestConcept-booleanValue_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public bool BooleanValue_1 { get => _booleanValue_1 ?? throw new UnsetFeatureException(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_1); set => SetBooleanValue_1(value); }

	/// <remarks>Required Property</remarks>
        public bool TryGetBooleanValue_1([NotNullWhenAttribute(true)] out bool? booleanValue_1)
	{
		booleanValue_1 = _booleanValue_1;
		return booleanValue_1 != null;
	}

	/// <remarks>Required Property</remarks>
        public DataTypeTestConcept SetBooleanValue_1(bool value)
	{
		SetRequiredValueTypeProperty<bool>(value, NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_1, _booleanValue_1, SetBooleanValue_1Raw);
		return this;
	}

	private TestEnumeration? _enumValue_0_1 = null;
	/// <remarks>Optional Property</remarks>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "DataTypeTestConcept-enumValue_0_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = true, Multiple = false)]
	public TestEnumeration? EnumValue_0_1 { get => _enumValue_0_1; set => SetEnumValue_0_1(value); }

	/// <remarks>Optional Property</remarks>
        public bool TryGetEnumValue_0_1([NotNullWhenAttribute(true)] out TestEnumeration? enumValue_0_1)
	{
		enumValue_0_1 = _enumValue_0_1;
		return enumValue_0_1 != null;
	}

	private bool SetEnumValue_0_1Raw(TestEnumeration? value)
	{
		if (value == _enumValue_0_1)
			return false;
		_enumValue_0_1 = value;
		return true;
	}

	/// <remarks>Optional Property</remarks>
        public DataTypeTestConcept SetEnumValue_0_1(TestEnumeration? value)
	{
		SetOptionalValueTypeProperty<TestEnumeration>(value, NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_0_1, _enumValue_0_1, SetEnumValue_0_1Raw);
		return this;
	}

	private TestEnumeration? _enumValue_1 = null;
	private bool SetEnumValue_1Raw(TestEnumeration? value)
	{
		if (value == _enumValue_1)
			return false;
		_enumValue_1 = value;
		return true;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If EnumValue_1 has not been set</exception>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "DataTypeTestConcept-enumValue_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public TestEnumeration EnumValue_1 { get => _enumValue_1 ?? throw new UnsetFeatureException(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_1); set => SetEnumValue_1(value); }

	/// <remarks>Required Property</remarks>
        public bool TryGetEnumValue_1([NotNullWhenAttribute(true)] out TestEnumeration? enumValue_1)
	{
		enumValue_1 = _enumValue_1;
		return enumValue_1 != null;
	}

	/// <remarks>Required Property</remarks>
        public DataTypeTestConcept SetEnumValue_1(TestEnumeration value)
	{
		SetRequiredValueTypeProperty<TestEnumeration>(value, NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_1, _enumValue_1, SetEnumValue_1Raw);
		return this;
	}

	private int? _integerValue_0_1 = null;
	/// <remarks>Optional Property</remarks>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "DataTypeTestConcept-integerValue_0_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = true, Multiple = false)]
	public int? IntegerValue_0_1 { get => _integerValue_0_1; set => SetIntegerValue_0_1(value); }

	/// <remarks>Optional Property</remarks>
        public bool TryGetIntegerValue_0_1([NotNullWhenAttribute(true)] out int? integerValue_0_1)
	{
		integerValue_0_1 = _integerValue_0_1;
		return integerValue_0_1 != null;
	}

	private bool SetIntegerValue_0_1Raw(int? value)
	{
		if (value == _integerValue_0_1)
			return false;
		_integerValue_0_1 = value;
		return true;
	}

	/// <remarks>Optional Property</remarks>
        public DataTypeTestConcept SetIntegerValue_0_1(int? value)
	{
		SetOptionalValueTypeProperty<int>(value, NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_0_1, _integerValue_0_1, SetIntegerValue_0_1Raw);
		return this;
	}

	private int? _integerValue_1 = null;
	private bool SetIntegerValue_1Raw(int? value)
	{
		if (value == _integerValue_1)
			return false;
		_integerValue_1 = value;
		return true;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If IntegerValue_1 has not been set</exception>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "DataTypeTestConcept-integerValue_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public int IntegerValue_1 { get => _integerValue_1 ?? throw new UnsetFeatureException(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_1); set => SetIntegerValue_1(value); }

	/// <remarks>Required Property</remarks>
        public bool TryGetIntegerValue_1([NotNullWhenAttribute(true)] out int? integerValue_1)
	{
		integerValue_1 = _integerValue_1;
		return integerValue_1 != null;
	}

	/// <remarks>Required Property</remarks>
        public DataTypeTestConcept SetIntegerValue_1(int value)
	{
		SetRequiredValueTypeProperty<int>(value, NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_1, _integerValue_1, SetIntegerValue_1Raw);
		return this;
	}

	private string? _stringValue_0_1 = null;
	/// <remarks>Optional Property</remarks>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "DataTypeTestConcept-stringValue_0_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = true, Multiple = false)]
	public string? StringValue_0_1 { get => _stringValue_0_1; set => SetStringValue_0_1(value); }

	/// <remarks>Optional Property</remarks>
        public bool TryGetStringValue_0_1([NotNullWhenAttribute(true)] out string? stringValue_0_1)
	{
		stringValue_0_1 = _stringValue_0_1;
		return stringValue_0_1 != null;
	}

	private bool SetStringValue_0_1Raw(string? value)
	{
		if (value == _stringValue_0_1)
			return false;
		_stringValue_0_1 = value;
		return true;
	}

	/// <remarks>Optional Property</remarks>
        public DataTypeTestConcept SetStringValue_0_1(string? value)
	{
		SetOptionalReferenceTypeProperty<string>(value, NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_0_1, _stringValue_0_1, SetStringValue_0_1Raw);
		return this;
	}

	private string? _stringValue_1 = null;
	private bool SetStringValue_1Raw(string? value)
	{
		if (value == _stringValue_1)
			return false;
		_stringValue_1 = value;
		return true;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If StringValue_1 has not been set</exception>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "DataTypeTestConcept-stringValue_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public string StringValue_1 { get => _stringValue_1 ?? throw new UnsetFeatureException(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_1); set => SetStringValue_1(value); }

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        public bool TryGetStringValue_1([NotNullWhenAttribute(true)] out string? stringValue_1)
	{
		stringValue_1 = _stringValue_1;
		return stringValue_1 != null;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        public DataTypeTestConcept SetStringValue_1(string value)
	{
		SetRequiredReferenceTypeProperty<string>(value, NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_1, _stringValue_1, SetStringValue_1Raw);
		return this;
	}

	public DataTypeTestConcept(string id) : base(id)
	{
	}

	/// <inheritdoc/>
        public override Concept GetConcept() => NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept;
	/// <inheritdoc/>
        protected override bool GetInternal(Feature? feature, out object? result)
	{
		if (base.GetInternal(feature, out result))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_0_1.EqualsIdentity(feature))
		{
			result = BooleanValue_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_1.EqualsIdentity(feature))
		{
			result = BooleanValue_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_0_1.EqualsIdentity(feature))
		{
			result = EnumValue_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_1.EqualsIdentity(feature))
		{
			result = EnumValue_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_0_1.EqualsIdentity(feature))
		{
			result = IntegerValue_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_1.EqualsIdentity(feature))
		{
			result = IntegerValue_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_0_1.EqualsIdentity(feature))
		{
			result = StringValue_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_1.EqualsIdentity(feature))
		{
			result = StringValue_1;
			return true;
		}

		return false;
	}

	protected override bool TryGetPropertyRaw(Property feature, out object? result)
	{
		if (base.TryGetPropertyRaw(feature, out result))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_0_1.EqualsIdentity(feature))
		{
			result = _booleanValue_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_1.EqualsIdentity(feature))
		{
			result = _booleanValue_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_0_1.EqualsIdentity(feature))
		{
			result = _enumValue_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_1.EqualsIdentity(feature))
		{
			result = _enumValue_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_0_1.EqualsIdentity(feature))
		{
			result = _integerValue_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_1.EqualsIdentity(feature))
		{
			result = _integerValue_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_0_1.EqualsIdentity(feature))
		{
			result = _stringValue_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_1.EqualsIdentity(feature))
		{
			result = _stringValue_1;
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool SetInternal(Feature? feature, object? value, INotificationId? notificationId = null)
	{
		if (base.SetInternal(feature, value, notificationId))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_0_1.EqualsIdentity(feature))
		{
			if (value is null or bool)
			{
				SetBooleanValue_0_1((bool?)value);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_1.EqualsIdentity(feature))
		{
			if (value is bool v)
			{
				SetBooleanValue_1(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_0_1.EqualsIdentity(feature))
		{
			if (value is null or LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.TestEnumeration)
			{
				SetEnumValue_0_1((LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.TestEnumeration?)value);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_1.EqualsIdentity(feature))
		{
			if (value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.TestEnumeration v)
			{
				SetEnumValue_1(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_0_1.EqualsIdentity(feature))
		{
			if (value is null or int)
			{
				SetIntegerValue_0_1((int?)value);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_1.EqualsIdentity(feature))
		{
			if (value is int v)
			{
				SetIntegerValue_1(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_0_1.EqualsIdentity(feature))
		{
			if (value is null or string)
			{
				SetStringValue_0_1((string?)value);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_1.EqualsIdentity(feature))
		{
			if (value is string v)
			{
				SetStringValue_1(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		return false;
	}

	protected override bool SetPropertyRaw(Property feature, object? value)
	{
		if (base.SetPropertyRaw(feature, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_0_1.EqualsIdentity(feature) && value is null or bool)
			return SetBooleanValue_0_1Raw((bool?)value);
		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_1.EqualsIdentity(feature) && value is null or bool)
			return SetBooleanValue_1Raw((bool?)value);
		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_0_1.EqualsIdentity(feature) && value is null or LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.TestEnumeration)
			return SetEnumValue_0_1Raw((LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.TestEnumeration?)value);
		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_1.EqualsIdentity(feature) && value is null or LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.TestEnumeration)
			return SetEnumValue_1Raw((LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.TestEnumeration?)value);
		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_0_1.EqualsIdentity(feature) && value is null or int)
			return SetIntegerValue_0_1Raw((int?)value);
		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_1.EqualsIdentity(feature) && value is null or int)
			return SetIntegerValue_1Raw((int?)value);
		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_0_1.EqualsIdentity(feature) && value is null or string)
			return SetStringValue_0_1Raw((string?)value);
		if (NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_1.EqualsIdentity(feature) && value is null or string)
			return SetStringValue_1Raw((string?)value);
		return false;
	}

	/// <inheritdoc/>
        public override IEnumerable<Feature> CollectAllSetFeatures()
	{
		List<Feature> result = base.CollectAllSetFeatures().ToList();
		if (TryGetBooleanValue_0_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_0_1);
		if (TryGetBooleanValue_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_booleanValue_1);
		if (TryGetEnumValue_0_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_0_1);
		if (TryGetEnumValue_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_enumValue_1);
		if (TryGetIntegerValue_0_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_0_1);
		if (TryGetIntegerValue_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_integerValue_1);
		if (TryGetStringValue_0_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_0_1);
		if (TryGetStringValue_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.DataTypeTestConcept_stringValue_1);
		return result;
	}
}

[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "LinkTestConcept")]
public partial class LinkTestConcept : ConceptInstanceBase, INamedWritable
{
	private string? _name = null;
	private bool SetNameRaw(string? value)
	{
		if (value == _name)
			return false;
		_name = value;
		return true;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If Name has not been set</exception>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        [LionCoreMetaPointer(Language = typeof(LionWeb.Core.VersionSpecific.V2024_1.BuiltInsLanguage_2024_1), Key = "LionCore-builtins-INamed-name")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public string Name { get => _name ?? throw new UnsetFeatureException(_builtIns.INamed_name); set => SetName(value); }

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        public bool TryGetName([NotNullWhenAttribute(true)] out string? name)
	{
		name = _name;
		return name != null;
	}
/// <remarks>Required Property</remarks>
/// <exception cref="InvalidValueException">If set to null</exception>
 INamedWritable INamedWritable.SetName(string value) => SetName(value);
	/// <remarks>Required Property</remarks>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        public LinkTestConcept SetName(string value)
	{
		SetRequiredReferenceTypeProperty<string>(value, _builtIns.INamed_name, _name, SetNameRaw);
		return this;
	}

	private LinkTestConcept? _containment_0_1 = null;
	/// <remarks>Optional Single Containment</remarks>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "LinkTestConcept-containment_0_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Containment, Optional = true, Multiple = false)]
	public LinkTestConcept? Containment_0_1 { get => _containment_0_1; set => SetContainment_0_1(value); }

	/// <remarks>Optional Single Containment</remarks>
        public bool TryGetContainment_0_1([NotNullWhenAttribute(true)] out LinkTestConcept? containment_0_1)
	{
		containment_0_1 = _containment_0_1;
		return containment_0_1 != null;
	}

	private bool SetContainment_0_1Raw(LinkTestConcept? value)
	{
		if (!ExchangeChildRaw(value, _containment_0_1))
			return false;
		_containment_0_1 = value;
		return true;
	}

	/// <remarks>Optional Single Containment</remarks>
        public LinkTestConcept SetContainment_0_1(LinkTestConcept? value)
	{
		SetOptionalSingleContainment<LinkTestConcept>(value, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_1, _containment_0_1, SetContainment_0_1Raw);
		return this;
	}

	private bool SetContainment_0_nRaw(List<LinkTestConcept> nodes) => ExchangeChildrenRaw(nodes, _containment_0_n);
	private bool AddContainment_0_nRaw(LinkTestConcept? value) => AddChildRaw(value, _containment_0_n);
	private bool InsertContainment_0_nRaw(int index, LinkTestConcept? value) => InsertChildRaw(index, value, _containment_0_n);
	private bool RemoveContainment_0_nRaw(LinkTestConcept? value) => RemoveChildRaw(value, _containment_0_n);
	private readonly List<LinkTestConcept> _containment_0_n = [];
	/// <remarks>Optional Multiple Containment</remarks>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "LinkTestConcept-containment_0_n")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Containment, Optional = true, Multiple = true)]
	public IReadOnlyList<LinkTestConcept> Containment_0_n { get => _containment_0_n.AsReadOnly(); init => AddContainment_0_n(value); }

	/// <remarks>Optional Multiple Containment</remarks>
        public bool TryGetContainment_0_n([NotNullWhenAttribute(true)] out IReadOnlyList<LinkTestConcept> containment_0_n)
	{
		containment_0_n = _containment_0_n.AsReadOnly();
		return containment_0_n.Count != 0;
	}

	/// <remarks>Optional Multiple Containment</remarks>
        public LinkTestConcept AddContainment_0_n(IEnumerable<LinkTestConcept> nodes)
	{
		AddOptionalMultipleContainment<LinkTestConcept>(nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n, _containment_0_n, AddContainment_0_nRaw);
		return this;
	}

	/// <remarks>Optional Multiple Containment</remarks>
        public LinkTestConcept InsertContainment_0_n(int index, IEnumerable<LinkTestConcept> nodes)
	{
		InsertOptionalMultipleContainment<LinkTestConcept>(index, nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n, _containment_0_n, InsertContainment_0_nRaw);
		return this;
	}

	/// <remarks>Optional Multiple Containment</remarks>
        public LinkTestConcept RemoveContainment_0_n(IEnumerable<LinkTestConcept> nodes)
	{
		RemoveOptionalMultipleContainment<LinkTestConcept>(nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n, _containment_0_n, RemoveContainment_0_nRaw);
		return this;
	}

	private LinkTestConcept? _containment_1 = null;
	/// <remarks>Required Single Containment</remarks>
    	/// <exception cref = "UnsetFeatureException">If Containment_1 has not been set</exception>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "LinkTestConcept-containment_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Containment, Optional = false, Multiple = false)]
	public LinkTestConcept Containment_1 { get => _containment_1 ?? throw new UnsetFeatureException(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1); set => SetContainment_1(value); }

	/// <remarks>Required Single Containment</remarks>
        public bool TryGetContainment_1([NotNullWhenAttribute(true)] out LinkTestConcept? containment_1)
	{
		containment_1 = _containment_1;
		return containment_1 != null;
	}

	private bool SetContainment_1Raw(LinkTestConcept? value)
	{
		if (!ExchangeChildRaw(value, _containment_1))
			return false;
		_containment_1 = value;
		return true;
	}

	/// <remarks>Required Single Containment</remarks>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        public LinkTestConcept SetContainment_1(LinkTestConcept value)
	{
		SetRequiredSingleContainment<LinkTestConcept>(value, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1, _containment_1, SetContainment_1Raw);
		return this;
	}

	private bool SetContainment_1_nRaw(List<LinkTestConcept> nodes) => ExchangeChildrenRaw(nodes, _containment_1_n);
	private bool AddContainment_1_nRaw(LinkTestConcept? value) => AddChildRaw(value, _containment_1_n);
	private bool InsertContainment_1_nRaw(int index, LinkTestConcept? value) => InsertChildRaw(index, value, _containment_1_n);
	private bool RemoveContainment_1_nRaw(LinkTestConcept? value) => RemoveChildRaw(value, _containment_1_n);
	private readonly List<LinkTestConcept> _containment_1_n = [];
	/// <remarks>Required Multiple Containment</remarks>
    	/// <exception cref = "UnsetFeatureException">If Containment_1_n is empty</exception>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "LinkTestConcept-containment_1_n")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Containment, Optional = false, Multiple = true)]
	public IReadOnlyList<LinkTestConcept> Containment_1_n { get => AsNonEmptyReadOnly(_containment_1_n, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n); init => AddContainment_1_n(value); }

	/// <remarks>Required Multiple Containment</remarks>
        public bool TryGetContainment_1_n([NotNullWhenAttribute(true)] out IReadOnlyList<LinkTestConcept> containment_1_n)
	{
		containment_1_n = _containment_1_n.AsReadOnly();
		return containment_1_n.Count != 0;
	}

	/// <remarks>Required Multiple Containment</remarks>
    	/// <exception cref = "InvalidValueException">If both Containment_1_n and nodes are empty</exception>
        public LinkTestConcept AddContainment_1_n(IEnumerable<LinkTestConcept> nodes)
	{
		AddRequiredMultipleContainment<LinkTestConcept>(nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n, _containment_1_n, AddContainment_1_nRaw);
		return this;
	}

	/// <remarks>Required Multiple Containment</remarks>
    	/// <exception cref = "InvalidValueException">If both Containment_1_n and nodes are empty</exception>
    	/// <exception cref = "ArgumentOutOfRangeException">If index negative or greater than Containment_1_n.Count</exception>
        public LinkTestConcept InsertContainment_1_n(int index, IEnumerable<LinkTestConcept> nodes)
	{
		InsertRequiredMultipleContainment<LinkTestConcept>(index, nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n, _containment_1_n, InsertContainment_1_nRaw);
		return this;
	}

	/// <remarks>Required Multiple Containment</remarks>
    	/// <exception cref = "InvalidValueException">If Containment_1_n would be empty</exception>
        public LinkTestConcept RemoveContainment_1_n(IEnumerable<LinkTestConcept> nodes)
	{
		RemoveRequiredMultipleContainment<LinkTestConcept>(nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n, _containment_1_n, RemoveContainment_1_nRaw);
		return this;
	}

	private ReferenceTarget? _reference_0_1 = null;
	/// <remarks>Optional Single Reference</remarks>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "LinkTestConcept-reference_0_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Reference, Optional = true, Multiple = false)]
	public LinkTestConcept? Reference_0_1 { get => ReferenceTargetNullableTarget<LinkTestConcept>(_reference_0_1, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_1); set => SetReference_0_1(value); }

	/// <remarks>Optional Single Reference</remarks>
        public bool TryGetReference_0_1([NotNullWhenAttribute(true)] out LinkTestConcept? reference_0_1)
	{
		reference_0_1 = ReferenceTargetNullableTarget<LinkTestConcept>(_reference_0_1, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_1);
		return _reference_0_1 != null || reference_0_1 != null;
	}

	private LinkTestConcept SetReference_0_1(ReferenceTarget? value)
	{
		SetOptionalSingleReference<LinkTestConcept>(value, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_1, _reference_0_1, SetReference_0_1Raw);
		return this;
	}

	private bool SetReference_0_1Raw(ReferenceTarget? value)
	{
		if (value == _reference_0_1)
			return false;
		_reference_0_1 = value;
		return true;
	}

	/// <remarks>Optional Single Reference</remarks>
        public LinkTestConcept SetReference_0_1(LinkTestConcept? value)
	{
		return SetReference_0_1(ReferenceTarget.FromNodeOptional(value));
	}

	private readonly List<ReferenceTarget> _reference_0_n = [];
	/// <remarks>Optional Multiple Reference</remarks>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "LinkTestConcept-reference_0_n")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Reference, Optional = true, Multiple = true)]
	public IReadOnlyList<LinkTestConcept?> Reference_0_n { get => ReferenceTargetNullableTargets<LinkTestConcept>(_reference_0_n, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n); init => AddReference_0_n(value!); }

	/// <remarks>Optional Multiple Reference</remarks>
        public bool TryGetReference_0_n([NotNullWhenAttribute(true)] out IReadOnlyList<LinkTestConcept?> reference_0_n)
	{
		reference_0_n = ReferenceTargetNullableTargets<LinkTestConcept>(_reference_0_n, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n);
		return reference_0_n.Count != 0;
	}

	private bool SetReference_0_nRaw(List<ReferenceTarget> targets) => SetReferencesRaw(targets, _reference_0_n);
	private bool AddReference_0_nRaw(ReferenceTarget target) => AddReferencesRaw(target, _reference_0_n);
	private bool InsertReference_0_nRaw(int index, ReferenceTarget target) => InsertReferencesRaw(index, target, _reference_0_n);
	private bool RemoveReference_0_nRaw(ReferenceTarget target) => RemoveReferencesRaw(target, _reference_0_n);
	/// <remarks>Optional Multiple Reference</remarks>
        public LinkTestConcept AddReference_0_n(IEnumerable<LinkTestConcept> nodes)
	{
		AddOptionalMultipleReference<LinkTestConcept>(nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n, _reference_0_n, AddReference_0_nRaw);
		return this;
	}

	/// <remarks>Optional Multiple Reference</remarks>
        public LinkTestConcept InsertReference_0_n(int index, IEnumerable<LinkTestConcept> nodes)
	{
		InsertOptionalMultipleReference<LinkTestConcept>(index, nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n, _reference_0_n, InsertReference_0_nRaw);
		return this;
	}

	/// <remarks>Optional Multiple Reference</remarks>
        public LinkTestConcept RemoveReference_0_n(IEnumerable<LinkTestConcept> nodes)
	{
		RemoveOptionalMultipleReference<LinkTestConcept>(nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n, _reference_0_n, RemoveReference_0_nRaw);
		return this;
	}

	private ReferenceTarget? _reference_1 = null;
	/// <remarks>Required Single Reference</remarks>
    	/// <exception cref = "UnsetFeatureException">If Reference_1 has not been set</exception>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "LinkTestConcept-reference_1")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Reference, Optional = false, Multiple = false)]
	public LinkTestConcept? Reference_1 { get => GetRequiredReference<LinkTestConcept>(_reference_1, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1); set => SetReference_1(value ?? throw new InvalidValueException(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1, value)); }

	/// <remarks>Required Single Reference</remarks>
        public bool TryGetReference_1([NotNullWhenAttribute(true)] out LinkTestConcept? reference_1)
	{
		reference_1 = ReferenceTargetNullableTarget<LinkTestConcept>(_reference_1, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1);
		return _reference_1 != null || reference_1 != null;
	}

	private LinkTestConcept SetReference_1(ReferenceTarget? value)
	{
		SetRequiredSingleReference<LinkTestConcept>(value, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1, _reference_1, SetReference_1Raw);
		return this;
	}

	private bool SetReference_1Raw(ReferenceTarget? value)
	{
		if (value == _reference_1)
			return false;
		_reference_1 = value;
		return true;
	}

	/// <remarks>Required Single Reference</remarks>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        public LinkTestConcept SetReference_1(LinkTestConcept value)
	{
		return SetReference_1(ReferenceTarget.FromNodeOptional(value));
	}

	private readonly List<ReferenceTarget> _reference_1_n = [];
	/// <remarks>Required Multiple Reference</remarks>
    	/// <exception cref = "UnsetFeatureException">If Reference_1_n is empty</exception>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "LinkTestConcept-reference_1_n")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Reference, Optional = false, Multiple = true)]
	public IReadOnlyList<LinkTestConcept?> Reference_1_n { get => GetRequiredNullableReferences<LinkTestConcept>(_reference_1_n, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n); init => AddReference_1_n(value!); }

	/// <remarks>Required Multiple Reference</remarks>
        public bool TryGetReference_1_n([NotNullWhenAttribute(true)] out IReadOnlyList<LinkTestConcept?> reference_1_n)
	{
		reference_1_n = ReferenceTargetNullableTargets<LinkTestConcept>(_reference_1_n, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n);
		return reference_1_n.Count != 0;
	}

	private bool SetReference_1_nRaw(List<ReferenceTarget> targets) => SetReferencesRaw(targets, _reference_1_n);
	private bool AddReference_1_nRaw(ReferenceTarget target) => AddReferencesRaw(target, _reference_1_n);
	private bool InsertReference_1_nRaw(int index, ReferenceTarget target) => InsertReferencesRaw(index, target, _reference_1_n);
	private bool RemoveReference_1_nRaw(ReferenceTarget target) => RemoveReferencesRaw(target, _reference_1_n);
	/// <remarks>Required Multiple Reference</remarks>
    	/// <exception cref = "InvalidValueException">If both Reference_1_n and nodes are empty</exception>
        public LinkTestConcept AddReference_1_n(IEnumerable<LinkTestConcept> nodes)
	{
		AddRequiredMultipleReference<LinkTestConcept>(nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n, _reference_1_n, AddReference_1_nRaw);
		return this;
	}

	/// <remarks>Required Multiple Reference</remarks>
    	/// <exception cref = "InvalidValueException">If both Reference_1_n and nodes are empty</exception>
    	/// <exception cref = "ArgumentOutOfRangeException">If index negative or greater than Reference_1_n.Count</exception>
        public LinkTestConcept InsertReference_1_n(int index, IEnumerable<LinkTestConcept> nodes)
	{
		InsertRequiredMultipleReference<LinkTestConcept>(index, nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n, _reference_1_n, InsertReference_1_nRaw);
		return this;
	}

	/// <remarks>Required Multiple Reference</remarks>
    	/// <exception cref = "InvalidValueException">If Reference_1_n would be empty</exception>
        public LinkTestConcept RemoveReference_1_n(IEnumerable<LinkTestConcept> nodes)
	{
		RemoveRequiredMultipleReference<LinkTestConcept>(nodes, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n, _reference_1_n, RemoveReference_1_nRaw);
		return this;
	}

	public LinkTestConcept(string id) : base(id)
	{
	}

	/// <inheritdoc/>
        public override Concept GetConcept() => NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept;
	/// <inheritdoc/>
        protected override bool GetInternal(Feature? feature, out object? result)
	{
		if (base.GetInternal(feature, out result))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature))
		{
			result = Name;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_1.EqualsIdentity(feature))
		{
			result = Containment_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.EqualsIdentity(feature))
		{
			result = Containment_0_n;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1.EqualsIdentity(feature))
		{
			result = Containment_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.EqualsIdentity(feature))
		{
			result = Containment_1_n;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_1.EqualsIdentity(feature))
		{
			result = Reference_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.EqualsIdentity(feature))
		{
			result = Reference_0_n;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1.EqualsIdentity(feature))
		{
			result = Reference_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.EqualsIdentity(feature))
		{
			result = Reference_1_n;
			return true;
		}

		return false;
	}

	protected override bool TryGetPropertyRaw(Property feature, out object? result)
	{
		if (base.TryGetPropertyRaw(feature, out result))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature))
		{
			result = _name;
			return true;
		}

		return false;
	}

	protected override bool TryGetContainmentRaw(Containment feature, out IReadableNode? result)
	{
		if (base.TryGetContainmentRaw(feature, out result))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_1.EqualsIdentity(feature))
		{
			result = _containment_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1.EqualsIdentity(feature))
		{
			result = _containment_1;
			return true;
		}

		return false;
	}

	protected override bool TryGetContainmentsRaw(Containment feature, out IReadOnlyList<IReadableNode> result)
	{
		if (base.TryGetContainmentsRaw(feature, out result))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.EqualsIdentity(feature))
		{
			result = _containment_0_n;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.EqualsIdentity(feature))
		{
			result = _containment_1_n;
			return true;
		}

		return false;
	}

	protected override bool TryGetReferenceRaw(Reference feature, out IReferenceTarget? result)
	{
		if (base.TryGetReferenceRaw(feature, out result))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_1.EqualsIdentity(feature))
		{
			result = _reference_0_1;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1.EqualsIdentity(feature))
		{
			result = _reference_1;
			return true;
		}

		return false;
	}

	protected override bool TryGetReferencesRaw(Reference feature, out IReadOnlyList<IReferenceTarget> result)
	{
		if (base.TryGetReferencesRaw(feature, out result))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.EqualsIdentity(feature))
		{
			result = _reference_0_n;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.EqualsIdentity(feature))
		{
			result = _reference_1_n;
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool SetInternal(Feature? feature, object? value, INotificationId? notificationId = null)
	{
		if (base.SetInternal(feature, value, notificationId))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature))
		{
			if (value is string v)
			{
				SetName(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_1.EqualsIdentity(feature))
		{
			if (value is null or LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept)
			{
				SetContainment_0_1((LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept?)value);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.EqualsIdentity(feature))
		{
			SetOptionalMultipleContainment<LinkTestConcept>(value, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n, _containment_0_n, SetContainment_0_nRaw);
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1.EqualsIdentity(feature))
		{
			if (value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept v)
			{
				SetContainment_1(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.EqualsIdentity(feature))
		{
			SetRequiredMultipleContainment<LinkTestConcept>(value, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n, _containment_1_n, SetContainment_1_nRaw);
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_1.EqualsIdentity(feature))
		{
			if (value is null or LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept)
			{
				SetReference_0_1((LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept?)value);
				return true;
			}

			if (value is ReferenceTarget target)
			{
				SetReference_0_1(target);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.EqualsIdentity(feature))
		{
			SetOptionalMultipleReference<LinkTestConcept>(value, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n, _reference_0_n, SetReference_0_nRaw);
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1.EqualsIdentity(feature))
		{
			if (value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept v)
			{
				SetReference_1(v);
				return true;
			}

			if (value is ReferenceTarget target)
			{
				SetReference_1(target);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.EqualsIdentity(feature))
		{
			SetRequiredMultipleReference<LinkTestConcept>(value, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n, _reference_1_n, SetReference_1_nRaw);
			return true;
		}

		return false;
	}

	protected override bool SetPropertyRaw(Property feature, object? value)
	{
		if (base.SetPropertyRaw(feature, value))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature) && value is null or string)
			return SetNameRaw((string?)value);
		return false;
	}

	protected override bool SetContainmentRaw(Containment feature, IWritableNode? value)
	{
		if (base.SetContainmentRaw(feature, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_1.EqualsIdentity(feature) && value is null or LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept)
			return SetContainment_0_1Raw((LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept?)value);
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1.EqualsIdentity(feature) && value is null or LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept)
			return SetContainment_1Raw((LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept?)value);
		return false;
	}

	protected override bool SetReferenceRaw(Reference feature, ReferenceTarget? value)
	{
		if (base.SetReferenceRaw(feature, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_1.EqualsIdentity(feature))
			return SetReference_0_1Raw(value);
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1.EqualsIdentity(feature))
			return SetReference_1Raw(value);
		return false;
	}

	/// <inheritdoc/>
        public override IEnumerable<Feature> CollectAllSetFeatures()
	{
		List<Feature> result = base.CollectAllSetFeatures().ToList();
		if (TryGetName(out _))
			result.Add(_builtIns.INamed_name);
		if (TryGetContainment_0_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_1);
		if (TryGetContainment_0_n(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n);
		if (TryGetContainment_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1);
		if (TryGetContainment_1_n(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n);
		if (TryGetReference_0_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_1);
		if (TryGetReference_0_n(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n);
		if (TryGetReference_1(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1);
		if (TryGetReference_1_n(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n);
		return result;
	}

	protected override bool AddContainmentsRaw(Containment feature, IWritableNode value)
	{
		if (base.AddContainmentsRaw(feature, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.EqualsIdentity(feature) && value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept v0)
			return AddContainment_0_nRaw(v0);
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.EqualsIdentity(feature) && value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept v1)
			return AddContainment_1_nRaw(v1);
		return false;
	}

	protected override bool AddReferencesRaw(Reference feature, ReferenceTarget value)
	{
		if (base.AddReferencesRaw(feature, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.EqualsIdentity(feature))
			return AddReference_0_nRaw(value);
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.EqualsIdentity(feature))
			return AddReference_1_nRaw(value);
		return false;
	}

	protected override bool InsertContainmentsRaw(Containment feature, int index, IWritableNode value)
	{
		if (base.InsertContainmentsRaw(feature, index, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.EqualsIdentity(feature) && value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept v0)
			return InsertContainment_0_nRaw(index, v0);
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.EqualsIdentity(feature) && value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept v1)
			return InsertContainment_1_nRaw(index, v1);
		return false;
	}

	protected override bool InsertReferencesRaw(Reference feature, int index, ReferenceTarget value)
	{
		if (base.InsertReferencesRaw(feature, index, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.EqualsIdentity(feature))
			return InsertReference_0_nRaw(index, value);
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.EqualsIdentity(feature))
			return InsertReference_1_nRaw(index, value);
		return false;
	}

	protected override bool RemoveContainmentsRaw(Containment feature, IWritableNode value)
	{
		if (base.RemoveContainmentsRaw(feature, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.EqualsIdentity(feature) && value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept v0)
			return RemoveContainment_0_nRaw(v0);
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.EqualsIdentity(feature) && value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept v1)
			return RemoveContainment_1_nRaw(v1);
		return false;
	}

	protected override bool RemoveReferencesRaw(Reference feature, ReferenceTarget value)
	{
		if (base.RemoveReferencesRaw(feature, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.EqualsIdentity(feature))
			return RemoveReference_0_nRaw(value);
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.EqualsIdentity(feature))
			return RemoveReference_1_nRaw(value);
		return false;
	}

	/// <inheritdoc/>
        protected override bool AddInternal(Link? link, IEnumerable<IReadableNode> value)
	{
		if (base.AddInternal(link, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.EqualsIdentity(link))
		{
			AddContainment_0_n(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.EqualsIdentity(link))
		{
			AddContainment_1_n(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.EqualsIdentity(link))
		{
			AddReference_0_n(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.EqualsIdentity(link))
		{
			AddReference_1_n(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool InsertInternal(Link? link, int index, IEnumerable<IReadableNode> value)
	{
		if (base.InsertInternal(link, index, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.EqualsIdentity(link))
		{
			InsertContainment_0_n(index, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.EqualsIdentity(link))
		{
			InsertContainment_1_n(index, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.EqualsIdentity(link))
		{
			InsertReference_0_n(index, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.EqualsIdentity(link))
		{
			InsertReference_1_n(index, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool RemoveInternal(Link? link, IEnumerable<IReadableNode> value)
	{
		if (base.RemoveInternal(link, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.EqualsIdentity(link))
		{
			RemoveContainment_0_n(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.EqualsIdentity(link))
		{
			RemoveContainment_1_n(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.EqualsIdentity(link))
		{
			RemoveReference_0_n(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_0_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.EqualsIdentity(link))
		{
			RemoveReference_1_n(NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_reference_1_n.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool DetachChild(INode child)
	{
		if (base.DetachChild(child))
			return true;
		Containment? c = GetContainmentOf(child);
		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_1.EqualsIdentity(c))
		{
			_containment_0_1 = null;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n.EqualsIdentity(c))
		{
			RemoveSelfParent(child, _containment_0_n, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n);
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1.EqualsIdentity(c))
		{
			_containment_1 = null;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n.EqualsIdentity(c))
		{
			RemoveSelfParent(child, _containment_1_n, NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n);
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        public override Containment? GetContainmentOf(INode child)
	{
		Containment? result = base.GetContainmentOf(child);
		if (result != null)
			return result;
		if (ReferenceEquals(_containment_0_1, child))
			return NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_1;
		if (child is LinkTestConcept child1 && _containment_0_n.Contains(child1))
			return NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_0_n;
		if (ReferenceEquals(_containment_1, child))
			return NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1;
		if (child is LinkTestConcept child3 && _containment_1_n.Contains(child3))
			return NullableReferencesTestLanguageLanguage.Instance.LinkTestConcept_containment_1_n;
		return null;
	}
}

[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "TestAnnotation")]
public partial class TestAnnotation : AnnotationInstanceBase, INamedWritable
{
	private string? _name = null;
	private bool SetNameRaw(string? value)
	{
		if (value == _name)
			return false;
		_name = value;
		return true;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If Name has not been set</exception>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        [LionCoreMetaPointer(Language = typeof(LionWeb.Core.VersionSpecific.V2024_1.BuiltInsLanguage_2024_1), Key = "LionCore-builtins-INamed-name")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public string Name { get => _name ?? throw new UnsetFeatureException(_builtIns.INamed_name); set => SetName(value); }

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        public bool TryGetName([NotNullWhenAttribute(true)] out string? name)
	{
		name = _name;
		return name != null;
	}
/// <remarks>Required Property</remarks>
/// <exception cref="InvalidValueException">If set to null</exception>
 INamedWritable INamedWritable.SetName(string value) => SetName(value);
	/// <remarks>Required Property</remarks>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        public TestAnnotation SetName(string value)
	{
		SetRequiredReferenceTypeProperty<string>(value, _builtIns.INamed_name, _name, SetNameRaw);
		return this;
	}

	public TestAnnotation(string id) : base(id)
	{
	}

	/// <inheritdoc/>
        public override Annotation GetAnnotation() => NullableReferencesTestLanguageLanguage.Instance.TestAnnotation;
	/// <inheritdoc/>
        protected override bool GetInternal(Feature? feature, out object? result)
	{
		if (base.GetInternal(feature, out result))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature))
		{
			result = Name;
			return true;
		}

		return false;
	}

	protected override bool TryGetPropertyRaw(Property feature, out object? result)
	{
		if (base.TryGetPropertyRaw(feature, out result))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature))
		{
			result = _name;
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool SetInternal(Feature? feature, object? value, INotificationId? notificationId = null)
	{
		if (base.SetInternal(feature, value, notificationId))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature))
		{
			if (value is string v)
			{
				SetName(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		return false;
	}

	protected override bool SetPropertyRaw(Property feature, object? value)
	{
		if (base.SetPropertyRaw(feature, value))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature) && value is null or string)
			return SetNameRaw((string?)value);
		return false;
	}

	/// <inheritdoc/>
        public override IEnumerable<Feature> CollectAllSetFeatures()
	{
		List<Feature> result = base.CollectAllSetFeatures().ToList();
		if (TryGetName(out _))
			result.Add(_builtIns.INamed_name);
		return result;
	}
}

[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "TestPartition")]
public partial class TestPartition : ConceptInstanceBase, INamedWritable, IPartitionInstance<INode>
{
	private string? _name = null;
	private bool SetNameRaw(string? value)
	{
		if (value == _name)
			return false;
		_name = value;
		return true;
	}

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "UnsetFeatureException">If Name has not been set</exception>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        [LionCoreMetaPointer(Language = typeof(LionWeb.Core.VersionSpecific.V2024_1.BuiltInsLanguage_2024_1), Key = "LionCore-builtins-INamed-name")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Property, Optional = false, Multiple = false)]
	public string Name { get => _name ?? throw new UnsetFeatureException(_builtIns.INamed_name); set => SetName(value); }

	/// <remarks>Required Property</remarks>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        public bool TryGetName([NotNullWhenAttribute(true)] out string? name)
	{
		name = _name;
		return name != null;
	}
/// <remarks>Required Property</remarks>
/// <exception cref="InvalidValueException">If set to null</exception>
 INamedWritable INamedWritable.SetName(string value) => SetName(value);
	/// <remarks>Required Property</remarks>
    	/// <exception cref = "InvalidValueException">If set to null</exception>
        public TestPartition SetName(string value)
	{
		SetRequiredReferenceTypeProperty<string>(value, _builtIns.INamed_name, _name, SetNameRaw);
		return this;
	}

	private DataTypeTestConcept? _data = null;
	/// <remarks>Optional Single Containment</remarks>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "TestPartition-data")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Containment, Optional = true, Multiple = false)]
	public DataTypeTestConcept? Data { get => _data; set => SetData(value); }

	/// <remarks>Optional Single Containment</remarks>
        public bool TryGetData([NotNullWhenAttribute(true)] out DataTypeTestConcept? data)
	{
		data = _data;
		return data != null;
	}

	private bool SetDataRaw(DataTypeTestConcept? value)
	{
		if (!ExchangeChildRaw(value, _data))
			return false;
		_data = value;
		return true;
	}

	/// <remarks>Optional Single Containment</remarks>
        public TestPartition SetData(DataTypeTestConcept? value)
	{
		SetOptionalSingleContainment<DataTypeTestConcept>(value, NullableReferencesTestLanguageLanguage.Instance.TestPartition_data, _data, SetDataRaw);
		return this;
	}

	private bool SetLinksRaw(List<LinkTestConcept> nodes) => ExchangeChildrenRaw(nodes, _links);
	private bool AddLinksRaw(LinkTestConcept? value) => AddChildRaw(value, _links);
	private bool InsertLinksRaw(int index, LinkTestConcept? value) => InsertChildRaw(index, value, _links);
	private bool RemoveLinksRaw(LinkTestConcept? value) => RemoveChildRaw(value, _links);
	private readonly List<LinkTestConcept> _links = [];
	/// <remarks>Optional Multiple Containment</remarks>
        [LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "TestPartition-links")]
	[LionCoreFeature(Kind = LionCoreFeatureKind.Containment, Optional = true, Multiple = true)]
	public IReadOnlyList<LinkTestConcept> Links { get => _links.AsReadOnly(); init => AddLinks(value); }

	/// <remarks>Optional Multiple Containment</remarks>
        public bool TryGetLinks([NotNullWhenAttribute(true)] out IReadOnlyList<LinkTestConcept> links)
	{
		links = _links.AsReadOnly();
		return links.Count != 0;
	}

	/// <remarks>Optional Multiple Containment</remarks>
        public TestPartition AddLinks(IEnumerable<LinkTestConcept> nodes)
	{
		AddOptionalMultipleContainment<LinkTestConcept>(nodes, NullableReferencesTestLanguageLanguage.Instance.TestPartition_links, _links, AddLinksRaw);
		return this;
	}

	/// <remarks>Optional Multiple Containment</remarks>
        public TestPartition InsertLinks(int index, IEnumerable<LinkTestConcept> nodes)
	{
		InsertOptionalMultipleContainment<LinkTestConcept>(index, nodes, NullableReferencesTestLanguageLanguage.Instance.TestPartition_links, _links, InsertLinksRaw);
		return this;
	}

	/// <remarks>Optional Multiple Containment</remarks>
        public TestPartition RemoveLinks(IEnumerable<LinkTestConcept> nodes)
	{
		RemoveOptionalMultipleContainment<LinkTestConcept>(nodes, NullableReferencesTestLanguageLanguage.Instance.TestPartition_links, _links, RemoveLinksRaw);
		return this;
	}

	public TestPartition(string id) : base(id)
	{
		_notificationProducer = new PartitionNotificationProducer(this);
	}

	/// <inheritdoc/>
        public override Concept GetConcept() => NullableReferencesTestLanguageLanguage.Instance.TestPartition;
	private readonly IPartitionNotificationProducer? _notificationProducer;
	IPartitionNotificationProducer? IPartitionInstance.GetNotificationProducer() => _notificationProducer;
	/// <inheritdoc/>
        public INotificationSender? GetNotificationSender() => _notificationProducer;
	/// <inheritdoc/>
        protected override bool GetInternal(Feature? feature, out object? result)
	{
		if (base.GetInternal(feature, out result))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature))
		{
			result = Name;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_data.EqualsIdentity(feature))
		{
			result = Data;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.EqualsIdentity(feature))
		{
			result = Links;
			return true;
		}

		return false;
	}

	protected override bool TryGetPropertyRaw(Property feature, out object? result)
	{
		if (base.TryGetPropertyRaw(feature, out result))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature))
		{
			result = _name;
			return true;
		}

		return false;
	}

	protected override bool TryGetContainmentRaw(Containment feature, out IReadableNode? result)
	{
		if (base.TryGetContainmentRaw(feature, out result))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_data.EqualsIdentity(feature))
		{
			result = _data;
			return true;
		}

		return false;
	}

	protected override bool TryGetContainmentsRaw(Containment feature, out IReadOnlyList<IReadableNode> result)
	{
		if (base.TryGetContainmentsRaw(feature, out result))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.EqualsIdentity(feature))
		{
			result = _links;
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool SetInternal(Feature? feature, object? value, INotificationId? notificationId = null)
	{
		if (base.SetInternal(feature, value, notificationId))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature))
		{
			if (value is string v)
			{
				SetName(v);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_data.EqualsIdentity(feature))
		{
			if (value is null or LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.DataTypeTestConcept)
			{
				SetData((LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.DataTypeTestConcept?)value);
				return true;
			}

			throw new InvalidValueException(feature, value);
		}

		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.EqualsIdentity(feature))
		{
			SetOptionalMultipleContainment<LinkTestConcept>(value, NullableReferencesTestLanguageLanguage.Instance.TestPartition_links, _links, SetLinksRaw);
			return true;
		}

		return false;
	}

	protected override bool SetPropertyRaw(Property feature, object? value)
	{
		if (base.SetPropertyRaw(feature, value))
			return true;
		if (_builtIns.INamed_name.EqualsIdentity(feature) && value is null or string)
			return SetNameRaw((string?)value);
		return false;
	}

	protected override bool SetContainmentRaw(Containment feature, IWritableNode? value)
	{
		if (base.SetContainmentRaw(feature, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_data.EqualsIdentity(feature) && value is null or LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.DataTypeTestConcept)
			return SetDataRaw((LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.DataTypeTestConcept?)value);
		return false;
	}

	/// <inheritdoc/>
        public override IEnumerable<Feature> CollectAllSetFeatures()
	{
		List<Feature> result = base.CollectAllSetFeatures().ToList();
		if (TryGetName(out _))
			result.Add(_builtIns.INamed_name);
		if (TryGetData(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.TestPartition_data);
		if (TryGetLinks(out _))
			result.Add(NullableReferencesTestLanguageLanguage.Instance.TestPartition_links);
		return result;
	}

	protected override bool AddContainmentsRaw(Containment feature, IWritableNode value)
	{
		if (base.AddContainmentsRaw(feature, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.EqualsIdentity(feature) && value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept v0)
			return AddLinksRaw(v0);
		return false;
	}

	protected override bool InsertContainmentsRaw(Containment feature, int index, IWritableNode value)
	{
		if (base.InsertContainmentsRaw(feature, index, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.EqualsIdentity(feature) && value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept v0)
			return InsertLinksRaw(index, v0);
		return false;
	}

	protected override bool RemoveContainmentsRaw(Containment feature, IWritableNode value)
	{
		if (base.RemoveContainmentsRaw(feature, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.EqualsIdentity(feature) && value is LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept v0)
			return RemoveLinksRaw(v0);
		return false;
	}

	/// <inheritdoc/>
        protected override bool AddInternal(Link? link, IEnumerable<IReadableNode> value)
	{
		if (base.AddInternal(link, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.EqualsIdentity(link))
		{
			AddLinks(NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool InsertInternal(Link? link, int index, IEnumerable<IReadableNode> value)
	{
		if (base.InsertInternal(link, index, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.EqualsIdentity(link))
		{
			InsertLinks(index, NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool RemoveInternal(Link? link, IEnumerable<IReadableNode> value)
	{
		if (base.RemoveInternal(link, value))
			return true;
		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.EqualsIdentity(link))
		{
			RemoveLinks(NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.AsNodes<LionWeb.Core.Test.Languages.Generated.V2024_1.NullableReferencesTestLang.LinkTestConcept>(value));
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        protected override bool DetachChild(INode child)
	{
		if (base.DetachChild(child))
			return true;
		Containment? c = GetContainmentOf(child);
		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_data.EqualsIdentity(c))
		{
			_data = null;
			return true;
		}

		if (NullableReferencesTestLanguageLanguage.Instance.TestPartition_links.EqualsIdentity(c))
		{
			RemoveSelfParent(child, _links, NullableReferencesTestLanguageLanguage.Instance.TestPartition_links);
			return true;
		}

		return false;
	}

	/// <inheritdoc/>
        public override Containment? GetContainmentOf(INode child)
	{
		Containment? result = base.GetContainmentOf(child);
		if (result != null)
			return result;
		if (ReferenceEquals(_data, child))
			return NullableReferencesTestLanguageLanguage.Instance.TestPartition_data;
		if (child is LinkTestConcept child1 && _links.Contains(child1))
			return NullableReferencesTestLanguageLanguage.Instance.TestPartition_links;
		return null;
	}
}

[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "SecondTestEnumeration")]
public enum SecondTestEnumeration
{
	[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "SecondTestEnumeration-literal1")]
	literal1,
	[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "SecondTestEnumeration-literal2")]
	literal2,
	[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "SecondTestEnumeration-literal3")]
	literal3
}

[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "TestEnumeration")]
public enum TestEnumeration
{
	[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "TestEnumeration-literal1")]
	literal1,
	[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "TestEnumeration-literal2")]
	literal2,
	[LionCoreMetaPointer(Language = typeof(NullableReferencesTestLanguageLanguage), Key = "TestEnumeration-literal3")]
	literal3
}